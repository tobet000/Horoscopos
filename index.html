<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Juego de Reflejos</title>
  <style>
    body {
      background-color: #111;
      color: #fff;
      text-align: center;
      font-family: sans-serif;
      margin: 0;
      padding: 0;
    }
    h1 { margin-top: 40px; }
    #panel {
      width: 90vw;
      height: 60vh;
      margin: 30px auto;
      background-color: red;
      cursor: pointer;
      transition: background-color 0.3s;
    }
  </style>
</head>
<body>
  <h1>Haz clic cuando el panel se vuelva VERDE</h1>
  <div id="panel"></div>
  <p id="resultado"></p>
  <p id="puntuacion"></p>

  <script>
    const panel = document.getElementById("panel");
    const resultado = document.getElementById("resultado");
    const puntuacion = document.getElementById("puntuacion");
    let puedeClic = false;
    let tiempoInicio;

    function calcularPuntuacion(tiempo) {
      if (tiempo < 200) return 10;
      else if (tiempo < 250) return 9;
      else if (tiempo < 300) return 8;
      else if (tiempo < 400) return 7;
      else if (tiempo < 500) return 6;
      else if (tiempo < 600) return 5;
      else if (tiempo < 700) return 4;
      else if (tiempo < 800) return 3;
      else if (tiempo < 1000) return 2;
      else return 1;
    }

    function iniciarJuego() {
      resultado.textContent = "Espera el color verde...";
      puntuacion.textContent = "";
      panel.style.backgroundColor = "red";
      puedeClic = false;

      const delay = Math.random() * 3000 + 1000;

      setTimeout(() => {
        panel.style.backgroundColor = "green";
        tiempoInicio = Date.now();
        puedeClic = true;
      }, delay);
    }

    panel.addEventListener("click", () => {
      if (!puedeClic) {
        resultado.textContent = "¬°Demasiado pronto! Espera al verde.";
        iniciarJuego();
      } else {
        const tiempoReaccion = Date.now() - tiempoInicio;
        const score = calcularPuntuacion(tiempoReaccion);
        resultado.textContent = `¬°Tu tiempo fue: ${tiempoReaccion} ms!`;
        puntuacion.textContent = `üèÖ Puntuaci√≥n: ${score}/10`;
        puedeClic = false;
        setTimeout(iniciarJuego, 2500);
      }
    });

    iniciarJuego();
  </script>
</body>
</html>